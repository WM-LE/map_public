<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

	<title>Westmarches Spielerkarte</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="jquery opensource hexgrid hex grid" />
    <meta name="description" content="A simple jQuery Hex grid Widget, implemented using SVG, for prototyping hex-grid based games." />
		<script src="https://code.jquery.com/jquery-2.1.4.min.js" ></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>

<script src="hexgridwidget.js" ></script>

		<!--CSS-->

		<style type="text/css">
svg {}
.hexfield {
  fill: transparent;
  stroke: 746969;
  stroke-width: 1;
}
.hexfield:focus {
  outline:none;
}
.hexfield:hover {
  fill:white ;
  fill-opacity:0.4;
}
.hexfield:active {
  fill: red;
  outline: none;
}
.hexfield.clicked{

}

</style>

</head>
<body>


  <!--Main Programm begins-->

<div class="header_container">
<h1>Westmarches Spielerkarte<br/> <small></h1>
<!--
			<button type="button" id="zoom_reset">Reset Zoom</button> 
			<button type="button" id="zoom_plus">Zoom(+)</button> 
			<button type="button" id="zoom_minus">Zoom(-)</button>		
-->
</div>

			<div id="container"> </div>

<script>

<!-- map zoom -->
/*
var zoom = 1;

  document.getElementById("zoom_reset").addEventListener("click", function() {
	zoom = 1;
    document.getElementById("container").style.transform = "scale(1)";
	console.log(zoom);
  }); 
  
  document.getElementById("zoom_plus").addEventListener("click", function() {
	zoom += 0.25;
    document.getElementById("container").style.transform = "scale("+zoom+")";
	console.log(zoom);
  }); 
  
  document.getElementById("zoom_minus").addEventListener("click", function() {
	zoom -= 0.25;
    document.getElementById("container").style.transform = "scale("+zoom+")";
	console.log(zoom);
  }); 
*/
  <!-- hexgrid initialisation -->

var rebuild = function () {
	$('#container').css('background-image', 'url( ./map_revision.png )');
	$(this).css({backgroundColor: 'red'});
  var
    radius = 17.5, 
    columns = 60, 
    rows = 60, 
    cssClass = 'hexfield';

  $('#container').empty().hexGridWidget(radius, columns, rows, cssClass).on('hexclick', function (e) { 
     $('#logger').text('clicked [' + e.column + ',' + e.row + '] hex with center at [' + e.center.x + ',' + e.center.y + '] px');
	 var col = e.column;
	 var row = e.row;
	 if (e.column < 10)
		col = "0"+e.column;
	 if (e.row < 10)
		row = "0"+e.row;

	 alert("Koordinate:("+col+"-"+row+")");
    
    /*if (confirm("Notizen für ("+col+"-"+row+") öffnen?")) {
		window.open("https://westmarches.at/koordinate/"+col+"-"+row);
		} else {}
	*/
  });
  $('#container .hexfield').click(function () {
    this.classList.toggle('clicked');
  });
};
$('#rebuild').click(rebuild);
rebuild();
</script>

  </body>
</html>
